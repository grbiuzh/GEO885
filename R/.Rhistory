eco2 <- ggplot(emissions_per_class, aes(fill=cabin_class, y=total_emissions, x=year)) +
geom_bar(position="stack", stat="identity") +
scale_fill_discrete(name = "Reason for travel")+
ggtitle("Cabin class for each flight at MNF (2018-2020)") +
xlab("") +
ylab("emissions [kgCO2]") +
scale_y_continuous(label=comma,
limits=c(0,max_distance*1.02)) +
theme_bw() +
theme(legend.position = c(0.86, 0.7))
eco2
ggsave(file="Figures/flight_class.png", eco2,
width = 10,
height= 7)
#Calculate emissions per cabinclass for altered data sets and merge with original to full list df
emissions_per_class_business <- amm_business %>%
group_by(year, cabin_class) %>%
summarise(total_emissions = sum(EMISSIONS_KGCO2EQ))
emissions_per_class_business$cabin_class[emissions_per_class_business$cabin_class == "business"] <- "all_business"
emissions_per_class_economy <- amm_economy %>%
group_by(year, cabin_class) %>%
summarise(total_emissions = sum(EMISSIONS_KGCO2EQ))
emissions_per_class_economy$cabin_class[emissions_per_class_economy$cabin_class == "economy"] <- "all_economy"
emissions_list <- rbind(emissions_per_class, emissions_per_class_business, emissions_per_class_economy) #All emissions per class data frames in one
#Plot all three different data frames into one to compare emissions
all_emissions_plot <- ggplot() +
geom_col(data = emissions_list, aes(fill=cabin_class, y=total_emissions, x=year), position="dodge", stat="identity")+
scale_fill_discrete(name = "Reason for travel")+
ggtitle("Emissions for each cabin class at the MNF (2018-2020)") +
xlab("") +
ylab("emissions [kgCO2]") +
scale_y_continuous(label=comma,
limits=c(0,max_distance*1.02)) +
theme_bw() +
theme(legend.position = c(0.86, 0.7))
all_emissions_plot
ggsave(file="Figures/emissions_comparison.png", all_emissions_plot,
width = 10,
height= 7)
emission_distance_plot <- ggplot()+
geom_line(data = amm_business, aes(y= kgCO2km, x = distance_km, col="red"))+
geom_line(data = amm, aes(y= kgCO2km, x = distance_km, col="blue"))+
geom_line(data = amm_economy, aes(y= kgCO2km, x = distance_km, col="green"))+
ggtitle("kgCO2 emitted per km flying")+
scale_color_manual(labels = c("Regular", "Economy", "Business"),
values = c("blue", "green","red"))+
ylab("kgCO2 emitted per flight km")+
xlab("Flight distance [km]")+
labs(colour = "Cabin class")
emission_distance_plot
ggsave(file="Figures/emissions_distance.png", emission_distance_plot,
width = 10,
height= 7)
paste("The mean emissions in kgCO2 per km flying for all business flights is", mean(amm_business$kgCO2km))
paste("The mean emissions in kgCO2 per km flying for all economy flights is", mean(amm_economy$kgCO2km))
paste("The mean emissions in kgCO2 per km flying for regular flights is", mean(amm$kgCO2km))
#Plot actual emissions per cabin class for original dataset
eco2 <- ggplot(emissions_per_class, aes(fill=cabin_class, y=total_emissions, x=year)) +
geom_bar(position="stack", stat="identity") +
scale_fill_discrete(name = "Reason for travel")+
ggtitle("Cabin class for each flight at MNF (2018-2020)") +
xlab("") +
ylab("emissions [kgCO2]") +
scale_y_continuous(label=comma,
limits=c(0,max_distance*1.02)) +
theme_bw() +
theme(legend.position = c(0.86, 0.7))
eco2
ggsave(file="Figures/flight_class.png", eco2,
width = 10,
height= 7)
#Calculate emissions per cabinclass for altered data sets and merge with original to full list df
emissions_per_class_business <- amm_business %>%
group_by(year, cabin_class) %>%
summarise(total_emissions = sum(EMISSIONS_KGCO2EQ))
emissions_per_class_business$cabin_class[emissions_per_class_business$cabin_class == "business"] <- "all_business"
emissions_per_class_economy <- amm_economy %>%
group_by(year, cabin_class) %>%
summarise(total_emissions = sum(EMISSIONS_KGCO2EQ))
emissions_per_class_economy$cabin_class[emissions_per_class_economy$cabin_class == "economy"] <- "all_economy"
emissions_list <- rbind(emissions_per_class, emissions_per_class_business, emissions_per_class_economy) #All emissions per class data frames in one
#Plot all three different data frames into one to compare emissions
all_emissions_plot <- ggplot() +
geom_col(data = emissions_list, aes(fill=cabin_class, y=total_emissions, x=year), position="stack", stat="identity")+
scale_fill_discrete(name = "Reason for travel")+
ggtitle("Emissions for each cabin class at the MNF (2018-2020)") +
xlab("") +
ylab("emissions [kgCO2]") +
scale_y_continuous(label=comma,
limits=c(0,max_distance*1.02)) +
theme_bw() +
theme(legend.position = c(0.86, 0.7))
all_emissions_plot
ggsave(file="Figures/emissions_comparison.png", all_emissions_plot,
width = 10,
height= 7)
emission_distance_plot <- ggplot()+
geom_line(data = amm_business, aes(y= kgCO2km, x = distance_km, col="red"))+
geom_line(data = amm, aes(y= kgCO2km, x = distance_km, col="blue"))+
geom_line(data = amm_economy, aes(y= kgCO2km, x = distance_km, col="green"))+
ggtitle("kgCO2 emitted per km flying")+
scale_color_manual(labels = c("Regular", "Economy", "Business"),
values = c("blue", "green","red"))+
ylab("kgCO2 emitted per flight km")+
xlab("Flight distance [km]")+
labs(colour = "Cabin class")
emission_distance_plot
ggsave(file="Figures/emissions_distance.png", emission_distance_plot,
width = 10,
height= 7)
paste("The mean emissions in kgCO2 per km flying for all business flights is", mean(amm_business$kgCO2km))
paste("The mean emissions in kgCO2 per km flying for all economy flights is", mean(amm_economy$kgCO2km))
paste("The mean emissions in kgCO2 per km flying for regular flights is", mean(amm$kgCO2km))
#Plot actual emissions per cabin class for original dataset
eco2 <- ggplot(emissions_per_class, aes(fill=cabin_class, y=total_emissions, x=year)) +
geom_bar(position="stack", stat="identity") +
scale_fill_discrete(name = "Reason for travel")+
ggtitle("Cabin class for each flight at MNF (2018-2020)") +
xlab("") +
ylab("emissions [kgCO2]") +
scale_y_continuous(label=comma,
limits=c(0,max_distance*1.02)) +
theme_bw() +
theme(legend.position = c(0.86, 0.7))
eco2
ggsave(file="Figures/flight_class.png", eco2,
width = 10,
height= 7)
#Calculate emissions per cabinclass for altered data sets and merge with original to full list df
emissions_per_class_business <- amm_business %>%
group_by(year, cabin_class) %>%
summarise(total_emissions = sum(EMISSIONS_KGCO2EQ))
emissions_per_class_business$cabin_class[emissions_per_class_business$cabin_class == "business"] <- "all_business"
emissions_per_class_economy <- amm_economy %>%
group_by(year, cabin_class) %>%
summarise(total_emissions = sum(EMISSIONS_KGCO2EQ))
emissions_per_class_economy$cabin_class[emissions_per_class_economy$cabin_class == "economy"] <- "all_economy"
emissions_list <- rbind(emissions_per_class, emissions_per_class_business, emissions_per_class_economy) #All emissions per class data frames in one
#Plot all three different data frames into one to compare emissions
all_emissions_plot <- ggplot() +
geom_col(data = emissions_list, aes(fill=cabin_class, y=total_emissions, x=year), position="dodge", stat="identity")+
scale_fill_discrete(name = "Reason for travel")+
ggtitle("Emissions for each cabin class at the MNF (2018-2020)") +
xlab("") +
ylab("emissions [kgCO2]") +
scale_y_continuous(label=comma,
limits=c(0,max_distance*1.02)) +
theme_bw() +
theme(legend.position = c(0.86, 0.7))
all_emissions_plot
ggsave(file="Figures/emissions_comparison.png", all_emissions_plot,
width = 10,
height= 7)
emission_distance_plot <- ggplot()+
geom_line(data = amm_business, aes(y= kgCO2km, x = distance_km, col="red"))+
geom_line(data = amm, aes(y= kgCO2km, x = distance_km, col="blue"))+
geom_line(data = amm_economy, aes(y= kgCO2km, x = distance_km, col="green"))+
ggtitle("kgCO2 emitted per km flying")+
scale_color_manual(labels = c("Regular", "Economy", "Business"),
values = c("blue", "green","red"))+
ylab("kgCO2 emitted per flight km")+
xlab("Flight distance [km]")+
labs(colour = "Cabin class")
emission_distance_plot
ggsave(file="Figures/emissions_distance.png", emission_distance_plot,
width = 10,
height= 7)
paste("The mean emissions in kgCO2 per km flying for all business flights is", mean(amm_business$kgCO2km))
paste("The mean emissions in kgCO2 per km flying for all economy flights is", mean(amm_economy$kgCO2km))
paste("The mean emissions in kgCO2 per km flying for regular flights is", mean(amm$kgCO2km))
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh,
aes(x=year, y=total_emission, color="observed"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","target UZH"),
values = c(green,orange))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
total_co2_plot
View(uzh_target_co2)
View(aggregated_uzh)
aggregated_uzh <- amm %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
View(aggregated_uzh)
aggregated_uzh_economy <- amm_business %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
aggregated_uzh_economy <- amm_economy %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
aggregated_uzh_business <- amm_business %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
aggregated_uzh_economy <- amm_economy %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="observed"),
size=1) +
geom_line(data=aggregated_uzh,
aes(x=year, y=total_emission, color="observed"),
size=1) +
geom_line(data=aggregated_uzh_business,
aes(x=year, y=total_emission, color="observed"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","target UZH"),
values = c(green,orange))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
total_co2_plot
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="red"),
size=1) +
geom_line(data=aggregated_uzh,
aes(x=year, y=total_emission, color="green"),
size=1) +
geom_line(data=aggregated_uzh_business,
aes(x=year, y=total_emission, color="blue"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","target UZH"),
values = c(green,orange))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
total_co2_plot
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="red"),
size=1) +
geom_line(data=aggregated_uzh_regular,
aes(x=year, y=total_emission, color="green"),
size=1) +
geom_line(data=aggregated_uzh_business,
aes(x=year, y=total_emission, color="blue"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","target UZH"),
values = c(green,orange))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
reference_period <- c(2018:2020)
target_period <- c(2022, 2030)
full_period <- c(2018:2030)
aggregated_uzh_regular <- amm %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
# UZH: only 2018 and 2019
uzh_baseline_co2 <- aggregated_uzh %>%
filter(year %in% reference_period[]) %>%
summarize(mean = mean(total_emission, na.rm=TRUE)) %>%
pull(mean)
# Define target
uzh_target_co2 <- data.frame(x=target_period,
y=c(uzh_baseline_co2,
(uzh_baseline_co2/100)*0.47))
max_co2 <- max(aggregated_uzh$total_emission)
aggregated_uzh_business <- amm_business %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
aggregated_uzh_economy <- amm_economy %>%
group_by(year) %>%
summarise(total_emission = sum(EMISSIONS_KGCO2EQ, na.rm=FALSE)) %>%
mutate(total_emission_3y_mean = slide_dbl(total_emission, mean,
.before = 1, .after = 1,
.complete = T))
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="red"),
size=1) +
geom_line(data=aggregated_uzh_regular,
aes(x=year, y=total_emission, color="green"),
size=1) +
geom_line(data=aggregated_uzh_business,
aes(x=year, y=total_emission, color="blue"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","target UZH"),
values = c(green,orange))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
total_co2_plot
total_co2_plot
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="red"),
size=1) +
geom_line(data=aggregated_uzh_regular,
aes(x=year, y=total_emission, color="green"),
size=1) +
geom_line(data=aggregated_uzh_business,
aes(x=year, y=total_emission, color="blue"),
size=1)
# ylab("kg CO2 eq.") +
# scale_x_continuous(breaks=full_period,
#                    limits=c(min(full_period),
#                             max(full_period))) +
# scale_y_continuous(label=comma,
#                    limits=c(0,max_co2*1.02)) +
# ggtitle("UZH air travel (2018-2020): emissions")+
# scale_colour_manual("",
#                     breaks = c("observed","target UZH"),
#                     values = c(green,orange))+
# theme_bw() +
# theme(text = element_text(size=16),
#       axis.title.x = element_blank(),
#       panel.grid.major.x = element_blank(),
#       panel.grid.minor.x = element_blank(),
#       panel.grid.minor.y = element_blank(),
#       legend.position = c(0.8, 0.25))
total_co2_plot
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="observed"),
size=1) +
geom_line(data=aggregated_uzh_regular,
aes(x=year, y=total_emission, color="optimal"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","optimal","target UZH"),
values = c(green,orange,red))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
total_co2_plot
# Total air travel at MNF
total_co2_plot <- ggplot() +
geom_line(data=uzh_target_co2,
aes(x, y, color="target UZH"), linetype="dashed",
size=1) +
geom_line(data=aggregated_uzh_economy,
aes(x=year, y=total_emission, color="optimal"),
size=1) +
geom_line(data=aggregated_uzh_regular,
aes(x=year, y=total_emission, color="observed"),
size=1) +
ylab("kg CO2 eq.") +
scale_x_continuous(breaks=full_period,
limits=c(min(full_period),
max(full_period))) +
scale_y_continuous(label=comma,
limits=c(0,max_co2*1.02)) +
ggtitle("UZH air travel (2018-2020): emissions")+
scale_colour_manual("",
breaks = c("observed","optimal","target UZH"),
values = c(green,orange,red))+
theme_bw() +
theme(text = element_text(size=16),
axis.title.x = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.position = c(0.8, 0.25))
total_co2_plot
View(aggregated_uzh_regular)
aggregated_uzh_regular$total_emission_3y_mean
1196267*0.07
View(amm)
mean(amm$EMISSIONS_KGCO2EQ)
83738.69/656.9284
amm %>% group_by(year) %>% count()
53/8
1196267/656.9284
127.47*8
View(aggregated_uzh_economy)
1196267*0.47
50/8
amm_shortdist <- amm %>% subset(select(distance_km >= 1000))
class(amm$distance_km)
amm_shortdist <- amm %>% filter(distance_km >= 1000)
View(amm_shortdist)
amm_shortdist <- amm %>% filter(distance_km <= 1000)
amm_shortdist <- amm_economy %>% filter(distance_km <= 1000)
amm_shortdist %>% mean(EMISSIONS_KGCO2EQ)
mean(amm_stortdist$EMISSIONS_KGCO2EQ)
mean(amm_shortdist$EMISSIONS_KGCO2EQ)
1130033-562245.5
567787.5/226.7974
#2503.501
2503.501/nrow(amm_shortdist)
#0.9625148
#Reduce short dist flighty by 96% untill the year 2030
0.9625148/8
#Reduce flighty by 12% per year, meaning:
2503.501*0.12
300*226.7974
567787.5/68039.22
68039.22/567787.5
